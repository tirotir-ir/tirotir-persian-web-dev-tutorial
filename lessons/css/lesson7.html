<!DOCTYPE html>
<html lang="fa" dir="rtl" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درس ۷: مدل جعبه - آموزش توسعه وب</title>
    <meta name="description" content="یادگیری مدل جعبه CSS و کنترل فضا و اندازه عناصر">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/rtl.css">
    <link rel="stylesheet" href="../../css/themes.css">
    <link rel="stylesheet" href="../../css/layout.css">
    <link rel="stylesheet" href="../../css/editor.css">
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="../../js/libs/codemirror/css/codemirror.min.css">
    <link rel="stylesheet" href="../../js/libs/codemirror/theme/monokai.min.css">
    <link rel="stylesheet" href="../../js/libs/codemirror/theme/material.min.css">
</head>
<body>
    <!-- Theme Toggle Button -->
    <button class="theme-toggle" id="themeToggle" aria-label="تغییر تم">
        <span class="theme-toggle-icon">🌙</span>
    </button>

    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-brand">
                <div class="header-brand-icon">وب</div>
                <span>آموزش توسعه وب</span>
            </div>
            
            <nav class="header-nav">
                <div class="header-search">
                    <input type="text" placeholder="جستجو در دروس..." id="searchInput">
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="منوی موبایل">
                    ☰
                </button>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">فهرست دروس</h2>
                    <p class="sidebar-subtitle">۲۰ درس کامل برای یادگیری توسعه وب</p>
                </div>

                <nav class="nav-section">
                    <h3 class="nav-section-title">CSS</h3>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="lesson6.html" class="nav-link">
                                <span class="nav-link-icon">🎨</span>
                                <span class="nav-link-text">مقدمات CSS</span>
                                <span class="nav-link-badge">۶</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="lesson7.html" class="nav-link active">
                                <span class="nav-link-icon">📦</span>
                                <span class="nav-link-text">مدل جعبه</span>
                                <span class="nav-link-badge">۷</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="lesson8.html" class="nav-link">
                                <span class="nav-link-icon">🔤</span>
                                <span class="nav-link-text">تایپوگرافی</span>
                                <span class="nav-link-badge">۸</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="lesson9.html" class="nav-link">
                                <span class="nav-link-icon">🌈</span>
                                <span class="nav-link-text">رنگ‌ها و پس‌زمینه</span>
                                <span class="nav-link-badge">۹</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="lesson10.html" class="nav-link">
                                <span class="nav-link-icon">📐</span>
                                <span class="nav-link-text">Flexbox و Grid</span>
                                <span class="nav-link-badge">۱۰</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <nav class="nav-section">
                    <h3 class="nav-section-title">منابع</h3>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="../../reference/html-tags.html" class="nav-link">
                                <span class="nav-link-icon">📚</span>
                                <span class="nav-link-text">مرجع تگ‌های HTML</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="../../index.html" class="nav-link">
                                <span class="nav-link-icon">🏠</span>
                                <span class="nav-link-text">صفحه اصلی</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </aside>

            <!-- Content -->
            <div class="content">
                <!-- Breadcrumb -->
                <nav class="breadcrumb">
                    <span class="breadcrumb-item"><a href="../../index.html">صفحه اصلی</a></span>
                    <span class="breadcrumb-item"><a href="#css">CSS</a></span>
                    <span class="breadcrumb-item active">درس ۷: مدل جعبه</span>
                </nav>

                <div class="content-header">
                    <h1 class="content-title">درس ۷: مدل جعبه</h1>
                    <p class="content-subtitle">یادگیری مدل جعبه CSS و کنترل فضا و اندازه عناصر</p>
                </div>

                <div class="progress-container">
                    <div class="progress-label">
                        <span>پیشرفت درس</span>
                        <span>۷ از ۲۰ درس</span>
                    </div>
                    <div class="progress">
                        <div class="progress-bar" style="width: 35%"></div>
                    </div>
                </div>

                <!-- Lesson Content -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">مدل جعبه CSS چیست؟</h2>
                    </div>
                    <p>مدل جعبه (Box Model) یکی از مهم‌ترین مفاهیم در CSS است که نحوه محاسبه اندازه و فضای عناصر HTML را تعریف می‌کند. هر عنصر HTML به صورت یک جعبه مستطیلی در نظر گرفته می‌شود که شامل چهار بخش اصلی است.</p>
                    
                    <h3>اجزای مدل جعبه:</h3>
                    <ul>
                        <li><strong>محتوا (Content):</strong> فضای داخلی که محتوای واقعی در آن قرار می‌گیرد</li>
                        <li><strong>پدینگ (Padding):</strong> فضای خالی بین محتوا و حاشیه</li>
                        <li><strong>حاشیه (Border):</strong> خط دور عنصر</li>
                        <li><strong>مارژین (Margin):</strong> فضای خالی بین عنصر و عناصر مجاور</li>
                    </ul>
                    
                    <h3>فرمول محاسبه اندازه:</h3>
                    <p><strong>عرض کل = width + padding-left + padding-right + border-left + border-right + margin-left + margin-right</strong></p>
                    <p><strong>ارتفاع کل = height + padding-top + padding-bottom + border-top + border-bottom + margin-top + margin-bottom</strong></p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ویژگی‌های اندازه</h2>
                    </div>
                    <p>CSS ویژگی‌های مختلفی برای کنترل اندازه عناصر ارائه می‌دهد:</p>
                    
                    <h3>ویژگی‌های اصلی:</h3>
                    <ul>
                        <li><code>width</code> - عرض عنصر</li>
                        <li><code>height</code> - ارتفاع عنصر</li>
                        <li><code>min-width</code> - حداقل عرض</li>
                        <li><code>max-width</code> - حداکثر عرض</li>
                        <li><code>min-height</code> - حداقل ارتفاع</li>
                        <li><code>max-height</code> - حداکثر ارتفاع</li>
                    </ul>
                    
                    <h3>مثال‌ها:</h3>
                    <pre><code>.box {
  width: 300px;
  height: 200px;
  min-width: 200px;
  max-width: 500px;
}</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">پدینگ (Padding)</h2>
                    </div>
                    <p>پدینگ فضای داخلی بین محتوا و حاشیه عنصر است. این فضا بخشی از عنصر محسوب می‌شود و رنگ پس‌زمینه عنصر را دارد.</p>
                    
                    <h3>ویژگی‌های پدینگ:</h3>
                    <ul>
                        <li><code>padding-top</code> - پدینگ بالا</li>
                        <li><code>padding-right</code> - پدینگ راست</li>
                        <li><code>padding-bottom</code> - پدینگ پایین</li>
                        <li><code>padding-left</code> - پدینگ چپ</li>
                        <li><code>padding</code> - میانبر برای همه جهات</li>
                    </ul>
                    
                    <h3>روش‌های تعریف padding:</h3>
                    <pre><code>/* یک مقدار - همه جهات */
padding: 20px;

/* دو مقدار - بالا/پایین، چپ/راست */
padding: 10px 20px;

/* سه مقدار - بالا، چپ/راست، پایین */
padding: 10px 20px 15px;

/* چهار مقدار - بالا، راست، پایین، چپ */
padding: 10px 15px 20px 25px;</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">حاشیه (Border)</h2>
                    </div>
                    <p>حاشیه خطی است که دور عنصر کشیده می‌شود و بین پدینگ و مارژین قرار دارد.</p>
                    
                    <h3>ویژگی‌های حاشیه:</h3>
                    <ul>
                        <li><code>border-width</code> - ضخامت حاشیه</li>
                        <li><code>border-style</code> - نوع حاشیه</li>
                        <li><code>border-color</code> - رنگ حاشیه</li>
                        <li><code>border</code> - میانبر برای همه ویژگی‌ها</li>
                    </ul>
                    
                    <h3>انواع border-style:</h3>
                    <ul>
                        <li><code>solid</code> - خط ممتد</li>
                        <li><code>dashed</code> - خط چین</li>
                        <li><code>dotted</code> - خط نقطه‌ای</li>
                        <li><code>double</code> - خط دوتایی</li>
                        <li><code>groove</code> - شیاردار</li>
                        <li><code>ridge</code> - برجسته</li>
                        <li><code>inset</code> - فرورفته</li>
                        <li><code>outset</code> - برآمده</li>
                    </ul>
                    
                    <h3>مثال‌ها:</h3>
                    <pre><code>/* روش کامل */
border-width: 2px;
border-style: solid;
border-color: #333;

/* روش میانبر */
border: 2px solid #333;

/* حاشیه برای جهات مختلف */
border-top: 1px solid red;
border-right: 2px dashed blue;</code></pre>
                </div>

                <!-- Interactive Code Editor -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">تمرین عملی: مدل جعبه</h2>
                    </div>
                    <p>در ادامه، مثالی از مدل جعبه و تأثیر ویژگی‌های مختلف را مشاهده می‌کنید. کد را ویرایش کرده و تغییرات را ببینید:</p>
                    
                    <div id="codeEditor"></div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">مارژین (Margin)</h2>
                    </div>
                    <p>مارژین فضای خالی بیرون از عنصر است که بین عنصر فعلی و عناصر مجاور قرار می‌گیرد.</p>
                    
                    <h3>ویژگی‌های مارژین:</h3>
                    <ul>
                        <li><code>margin-top</code> - مارژین بالا</li>
                        <li><code>margin-right</code> - مارژین راست</li>
                        <li><code>margin-bottom</code> - مارژین پایین</li>
                        <li><code>margin-left</code> - مارژین چپ</li>
                        <li><code>margin</code> - میانبر برای همه جهات</li>
                    </ul>
                    
                    <h3>مقادیر خاص margin:</h3>
                    <ul>
                        <li><code>auto</code> - مارژین خودکار (برای وسط‌چین کردن)</li>
                        <li><code>0</code> - بدون مارژین</li>
                        <li>مقادیر منفی - برای همپوشانی عناصر</li>
                    </ul>
                    
                    <h3>وسط‌چین کردن عناصر:</h3>
                    <pre><code>.center {
  width: 300px;
  margin: 0 auto; /* وسط‌چین افقی */
}</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Box-sizing</h2>
                    </div>
                    <p>ویژگی box-sizing نحوه محاسبه اندازه کل عنصر را تعیین می‌کند:</p>
                    
                    <h3>مقادیر box-sizing:</h3>
                    <ul>
                        <li><strong>content-box (پیش‌فرض):</strong> width و height فقط محتوا را شامل می‌شود</li>
                        <li><strong>border-box:</strong> width و height شامل محتوا، padding و border می‌شود</li>
                    </ul>
                    
                    <h3>مثال:</h3>
                    <pre><code>/* content-box */
.box1 {
  width: 200px;
  padding: 20px;
  border: 5px solid black;
  /* عرض کل: 200 + 40 + 10 = 250px */
}

/* border-box */
.box2 {
  box-sizing: border-box;
  width: 200px;
  padding: 20px;
  border: 5px solid black;
  /* عرض کل: 200px */
}</code></pre>
                    
                    <h3>تنظیم سراسری:</h3>
                    <pre><code>* {
  box-sizing: border-box;
}</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Margin Collapse</h2>
                    </div>
                    <p>در برخی موارد، مارژین‌های عمودی عناصر مجاور با هم ترکیب می‌شوند. این پدیده Margin Collapse نامیده می‌شود.</p>
                    
                    <h3>قوانین Margin Collapse:</h3>
                    <ul>
                        <li>فقط مارژین‌های عمودی (top و bottom) collapse می‌شوند</li>
                        <li>مارژین‌های افقی (left و right) collapse نمی‌شوند</li>
                        <li>بزرگ‌ترین مارژین باقی می‌ماند</li>
                        <li>فقط در عناصر block اتفاق می‌افتد</li>
                    </ul>
                    
                    <h3>مثال:</h3>
                    <pre><code>.element1 {
  margin-bottom: 30px;
}

.element2 {
  margin-top: 20px;
}

/* فاصله بین عناصر: 30px (نه 50px) */</code></pre>
                    
                    <h3>جلوگیری از Margin Collapse:</h3>
                    <ul>
                        <li>استفاده از padding به جای margin</li>
                        <li>اضافه کردن border یا padding به عنصر والد</li>
                        <li>استفاده از flexbox یا grid</li>
                        <li>تغییر display به inline-block</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">تمرین‌های عملی</h2>
                    </div>
                    <p>برای تسلط بیشتر بر مطالب این درس، تمرین‌های زیر را انجام دهید:</p>
                    
                    <h3>تمرین ۱: کارت محصول</h3>
                    <p>کارتی برای نمایش محصول ایجاد کنید که شامل تصویر، عنوان، توضیح و قیمت باشد.</p>
                    
                    <h3>تمرین ۲: باکس‌های مختلف</h3>
                    <p>سه باکس با اندازه‌های مختلف ایجاد کنید و آن‌ها را در یک ردیف قرار دهید.</p>
                    
                    <h3>تمرین ۳: فرم با فاصله‌بندی</h3>
                    <p>فرمی ایجاد کنید که فیلدها فاصله مناسب از هم داشته باشند.</p>
                    
                    <h3>تمرین ۴: مقایسه box-sizing</h3>
                    <p>دو عنصر مشابه ایجاد کنید، یکی با content-box و دیگری با border-box.</p>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">نکات مهم و بهترین شیوه‌ها</h2>
                    </div>
                    <h3>بهترین شیوه‌ها:</h3>
                    <ul>
                        <li>از box-sizing: border-box استفاده کنید</li>
                        <li>برای وسط‌چین کردن از margin: 0 auto استفاده کنید</li>
                        <li>از واحدهای نسبی (em, rem, %) استفاده کنید</li>
                        <li>فاصله‌بندی منطقی و سازگار ایجاد کنید</li>
                        <li>از ابزارهای توسعه‌دهنده برای بررسی box model استفاده کنید</li>
                    </ul>
                    
                    <h3>نکات مهم:</h3>
                    <ul>
                        <li>مارژین‌های منفی امکان همپوشانی عناصر را فراهم می‌کنند</li>
                        <li>پدینگ نمی‌تواند منفی باشد</li>
                        <li>مارژین‌های عمودی collapse می‌شوند</li>
                        <li>border-radius بر روی border اعمال می‌شود</li>
                        <li>outline خارج از box model قرار دارد</li>
                    </ul>
                    
                    <h3>اشتباهات رایج:</h3>
                    <ul>
                        <li>فراموش کردن box-sizing</li>
                        <li>استفاده نادرست از margin برای فاصله داخلی</li>
                        <li>عدم درنظرگیری margin collapse</li>
                        <li>استفاده از اندازه‌های ثابت برای همه عناصر</li>
                        <li>عدم تست در اندازه‌های مختلف صفحه</li>
                    </ul>
                </div>

                <!-- Navigation -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ادامه یادگیری</h2>
                    </div>
                    <p>در درس بعدی با تایپوگرافی و کنترل فونت‌ها در CSS آشنا خواهید شد.</p>
                    <div style="margin-top: 1rem;">
                        <a href="lesson6.html" class="btn btn-secondary">درس قبلی: مقدمات CSS</a>
                        <a href="lesson8.html" class="btn btn-primary" style="margin-right: 1rem;">درس بعدی: تایپوگرافی</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- JavaScript -->
    <script src="../../js/main.js"></script>
    <script src="../../js/storage.js"></script>
    
    <!-- CodeMirror JavaScript -->
    <script src="../../js/libs/codemirror/js/codemirror.min.js"></script>
    <script src="../../js/libs/codemirror/mode/xml.min.js"></script>
    <script src="../../js/libs/codemirror/mode/css.min.js"></script>
    <script src="../../js/libs/codemirror/mode/javascript.min.js"></script>
    <script src="../../js/libs/codemirror/mode/htmlmixed.min.js"></script>
    <script src="../../js/libs/codemirror/addon/matchbrackets.min.js"></script>
    <script src="../../js/libs/codemirror/addon/closebrackets.min.js"></script>
    <script src="../../js/libs/codemirror/addon/active-line.min.js"></script>
    
    <!-- Editor JavaScript -->
    <script src="../../js/editor.js"></script>
    
    <script>
        // Initialize the code editor when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const editor = new CodeEditor('codeEditor', {
                initialContent: {
                    html: `<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>مدل جعبه CSS</title>
</head>
<body>
    <h1>آموزش مدل جعبه CSS</h1>
    
    <!-- نمایش اجزای مدل جعبه -->
    <section class="box-model-demo">
        <h2>نمایش اجزای مدل جعبه</h2>
        
        <div class="box-example">
            <div class="content-area">محتوا</div>
        </div>
        
        <div class="box-labels">
            <div class="label margin-label">Margin</div>
            <div class="label border-label">Border</div>
            <div class="label padding-label">Padding</div>
            <div class="label content-label">Content</div>
        </div>
    </section>
    
    <!-- مقایسه box-sizing -->
    <section class="box-sizing-demo">
        <h2>مقایسه box-sizing</h2>
        
        <div class="comparison">
            <div class="box content-box">
                <h3>content-box</h3>
                <p>width: 200px</p>
                <p>padding: 20px</p>
                <p>border: 5px</p>
                <p><strong>عرض کل: 250px</strong></p>
            </div>
            
            <div class="box border-box">
                <h3>border-box</h3>
                <p>width: 200px</p>
                <p>padding: 20px</p>
                <p>border: 5px</p>
                <p><strong>عرض کل: 200px</strong></p>
            </div>
        </div>
    </section>
    
    <!-- مثال‌های مختلف padding و margin -->
    <section class="spacing-examples">
        <h2>مثال‌های فاصله‌بندی</h2>
        
        <div class="spacing-grid">
            <div class="spacing-item no-spacing">
                <h4>بدون فاصله</h4>
                <p>این عنصر هیچ padding یا margin ندارد.</p>
            </div>
            
            <div class="spacing-item with-padding">
                <h4>با Padding</h4>
                <p>این عنصر padding دارد اما margin ندارد.</p>
            </div>
            
            <div class="spacing-item with-margin">
                <h4>با Margin</h4>
                <p>این عنصر margin دارد اما padding ندارد.</p>
            </div>
            
            <div class="spacing-item with-both">
                <h4>با هر دو</h4>
                <p>این عنصر هم padding و هم margin دارد.</p>
            </div>
        </div>
    </section>
    
    <!-- مثال margin collapse -->
    <section class="margin-collapse-demo">
        <h2>نمایش Margin Collapse</h2>
        
        <div class="collapse-example">
            <div class="element-1">
                <p>عنصر اول - margin-bottom: 30px</p>
            </div>
            <div class="element-2">
                <p>عنصر دوم - margin-top: 20px</p>
            </div>
            <p class="note">فاصله بین عناصر: 30px (نه 50px)</p>
        </div>
    </section>
    
    <!-- کارت‌های محصول -->
    <section class="product-cards">
        <h2>کارت‌های محصول</h2>
        
        <div class="cards-container">
            <div class="product-card">
                <div class="product-image">📱</div>
                <h3>گوشی هوشمند</h3>
                <p class="description">گوشی هوشمند با امکانات پیشرفته</p>
                <p class="price">۱۰,۰۰۰,۰۰۰ تومان</p>
                <button class="buy-btn">خرید</button>
            </div>
            
            <div class="product-card">
                <div class="product-image">💻</div>
                <h3>لپ‌تاپ</h3>
                <p class="description">لپ‌تاپ قدرتمند برای کار و بازی</p>
                <p class="price">۲۵,۰۰۰,۰۰۰ تومان</p>
                <button class="buy-btn">خرید</button>
            </div>
            
            <div class="product-card">
                <div class="product-image">🎧</div>
                <h3>هدفون</h3>
                <p class="description">هدفون بی‌سیم با کیفیت بالا</p>
                <p class="price">۲,۰۰۰,۰۰۰ تومان</p>
                <button class="buy-btn">خرید</button>
            </div>
        </div>
    </section>
</body>
</html>`,
                    css: `/* تنظیمات پایه */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Tahoma', Arial, sans-serif;
    direction: rtl;
    text-align: right;
    line-height: 1.6;
    color: #333;
    background-color: #f8f9fa;
    padding: 20px;
}

h1, h2 {
    color: #2c3e50;
    margin-bottom: 1rem;
    text-align: center;
}

section {
    background-color: white;
    margin-bottom: 3rem;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 2px 15px rgba(0,0,0,0.1);
}

/* نمایش مدل جعبه */
.box-model-demo {
    text-align: center;
}

.box-example {
    position: relative;
    display: inline-block;
    margin: 2rem;
    
    /* مارژین - فضای بیرونی */
    margin: 40px;
    
    /* حاشیه */
    border: 10px solid #e74c3c;
    
    /* پدینگ - فضای داخلی */
    padding: 30px;
    
    /* پس‌زمینه برای نمایش پدینگ */
    background-color: #3498db;
}

.content-area {
    background-color: #2ecc71;
    padding: 20px;
    color: white;
    font-weight: bold;
    font-size: 1.2rem;
}

.box-labels {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 1rem;
}

.label {
    padding: 0.5rem 1rem;
    border-radius: 5px;
    color: white;
    font-weight: bold;
}

.margin-label { background-color: #f39c12; }
.border-label { background-color: #e74c3c; }
.padding-label { background-color: #3498db; }
.content-label { background-color: #2ecc71; }

/* مقایسه box-sizing */
.comparison {
    display: flex;
    gap: 2rem;
    justify-content: center;
    flex-wrap: wrap;
}

.box {
    width: 200px;
    padding: 20px;
    border: 5px solid #34495e;
    background-color: #ecf0f1;
    text-align: center;
}

.content-box {
    box-sizing: content-box;
    background-color: #ffebee;
    border-color: #e91e63;
}

.border-box {
    box-sizing: border-box;
    background-color: #e8f5e8;
    border-color: #4caf50;
}

/* مثال‌های فاصله‌بندی */
.spacing-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1rem;
}

.spacing-item {
    background-color: #f8f9fa;
    border: 2px solid #dee2e6;
    text-align: center;
}

.no-spacing {
    /* بدون padding و margin */
}

.with-padding {
    padding: 20px;
    background-color: #e3f2fd;
    border-color: #2196f3;
}

.with-margin {
    margin: 20px;
    background-color: #fff3e0;
    border-color: #ff9800;
}

.with-both {
    padding: 15px;
    margin: 15px;
    background-color: #f3e5f5;
    border-color: #9c27b0;
}

/* نمایش margin collapse */
.collapse-example {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
}

.element-1 {
    background-color: #ffcdd2;
    padding: 15px;
    margin-bottom: 30px;
    border: 1px solid #f44336;
}

.element-2 {
    background-color: #c8e6c9;
    padding: 15px;
    margin-top: 20px;
    border: 1px solid #4caf50;
}

.note {
    background-color: #fff3cd;
    padding: 10px;
    border: 1px solid #ffc107;
    border-radius: 4px;
    margin-top: 20px;
    font-weight: bold;
    text-align: center;
}

/* کارت‌های محصول */
.cards-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
}

.product-card {
    background-color: white;
    border: 1px solid #dee2e6;
    border-radius: 10px;
    padding: 1.5rem;
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
}

.product-image {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.product-card h3 {
    color: #2c3e50;
    margin-bottom: 0.5rem;
}

.description {
    color: #6c757d;
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.price {
    font-size: 1.2rem;
    font-weight: bold;
    color: #e74c3c;
    margin-bottom: 1rem;
}

.buy-btn {
    background-color: #28a745;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s;
    width: 100%;
}

.buy-btn:hover {
    background-color: #218838;
}

/* طراحی واکنش‌گرا */
@media (max-width: 768px) {
    .comparison {
        flex-direction: column;
        align-items: center;
    }
    
    .box {
        width: 100%;
        max-width: 300px;
    }
    
    .spacing-grid {
        grid-template-columns: 1fr;
    }
    
    .with-margin {
        margin: 10px 0;
    }
    
    .cards-container {
        grid-template-columns: 1fr;
    }
    
    body {
        padding: 10px;
    }
    
    section {
        padding: 1rem;
    }
}

/* انیمیشن‌ها */
@keyframes highlight {
    0% { background-color: transparent; }
    50% { background-color: #fff3cd; }
    100% { background-color: transparent; }
}

.box-example:hover .content-area {
    animation: highlight 1s ease-in-out;
}

/* نمایش ابعاد در developer tools */
.box-example::after {
    content: "Margin: 40px, Border: 10px, Padding: 30px";
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    background-color: #2c3e50;
    color: white;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8rem;
    white-space: nowrap;
}`,
                    js: `// تعامل با مدل جعبه
document.addEventListener('DOMContentLoaded', function() {
    // نمایش اطلاعات مدل جعبه
    function showBoxModelInfo() {
        const boxes = document.querySelectorAll('.product-card');
        
        boxes.forEach((box, index) => {
            const styles = getComputedStyle(box);
            
            console.log('کارت محصول ' + (index + 1) + ':');
            console.log('Width: ' + styles.width);
            console.log('Height: ' + styles.height);
            console.log('Padding: ' + styles.padding);
            console.log('Margin: ' + styles.margin);
            console.log('Border: ' + styles.border);
            console.log('Box-sizing: ' + styles.boxSizing);
            console.log('---');
        });
    }
    
    // محاسبه اندازه کل عنصر
    function calculateTotalSize(element) {
        const styles = getComputedStyle(element);
        
        const width = parseFloat(styles.width);
        const paddingLeft = parseFloat(styles.paddingLeft);
        const paddingRight = parseFloat(styles.paddingRight);
        const borderLeft = parseFloat(styles.borderLeftWidth);
        const borderRight = parseFloat(styles.borderRightWidth);
        const marginLeft = parseFloat(styles.marginLeft);
        const marginRight = parseFloat(styles.marginRight);
        
        const totalWidth = width + paddingLeft + paddingRight + 
                          borderLeft + borderRight + marginLeft + marginRight;
        
        return {
            contentWidth: width,
            totalWidth: totalWidth,
            padding: paddingLeft + paddingRight,
            border: borderLeft + borderRight,
            margin: marginLeft + marginRight
        };
    }
    
    // اضافه کردن tooltip برای نمایش اطلاعات
    function addTooltips() {
        const boxes = document.querySelectorAll('.product-card');
        
        boxes.forEach(box => {
            box.addEventListener('mouseenter', function() {
                const info = calculateTotalSize(this);
                
                const tooltip = document.createElement('div');
                tooltip.className = 'box-info-tooltip';
                tooltip.innerHTML = 
                    'محتوا: ' + info.contentWidth.toFixed(0) + 'px<br>' +
                    'Padding: ' + info.padding.toFixed(0) + 'px<br>' +
                    'Border: ' + info.border.toFixed(0) + 'px<br>' +
                    'Margin: ' + info.margin.toFixed(0) + 'px<br>' +
                    '<strong>کل: ' + info.totalWidth.toFixed(0) + 'px</strong>';
                
                tooltip.style.cssText = 
                    'position: absolute; ' +
                    'top: -80px; ' +
                    'right: 10px; ' +
                    'background: #2c3e50; ' +
                    'color: white; ' +
                    'padding: 10px; ' +
                    'border-radius: 5px; ' +
                    'font-size: 12px; ' +
                    'z-index: 1000; ' +
                    'box-shadow: 0 2px 10px rgba(0,0,0,0.3);';
                
                this.style.position = 'relative';
                this.appendChild(tooltip);
            });
            
            box.addEventListener('mouseleave', function() {
                const tooltip = this.querySelector('.box-info-tooltip');
                if (tooltip) {
                    tooltip.remove();
                }
            });
        });
    }
    
    // تغییر box-sizing به صورت زنده
    function toggleBoxSizing() {
        const boxes = document.querySelectorAll('.product-card');
        let isContentBox = false;
        
        const toggleButton = document.createElement('button');
        toggleButton.textContent = 'تغییر Box-sizing';
        toggleButton.style.cssText = 
            'position: fixed; ' +
            'top: 20px; ' +
            'left: 20px; ' +
            'padding: 10px 15px; ' +
            'background: #3498db; ' +
            'color: white; ' +
            'border: none; ' +
            'border-radius: 5px; ' +
            'cursor: pointer; ' +
            'z-index: 1000;';
        
        toggleButton.addEventListener('click', function() {
            isContentBox = !isContentBox;
            
            boxes.forEach(box => {
                if (isContentBox) {
                    box.style.boxSizing = 'content-box';
                    this.textContent = 'تغییر به Border-box';
                } else {
                    box.style.boxSizing = 'border-box';
                    this.textContent = 'تغییر به Content-box';
                }
            });
            
            console.log('Box-sizing تغییر کرد به: ' + 
                       (isContentBox ? 'content-box' : 'border-box'));
        });
        
        document.body.appendChild(toggleButton);
    }
    
    // نمایش margin collapse
    function demonstrateMarginCollapse() {
        const element1 = document.querySelector('.element-1');
        const element2 = document.querySelector('.element-2');
        
        if (element1 && element2) {
            const rect1 = element1.getBoundingClientRect();
            const rect2 = element2.getBoundingClientRect();
            
            const actualGap = rect2.top - rect1.bottom;
            
            console.log('فاصله واقعی بین عناصر: ' + actualGap + 'px');
            console.log('margin-bottom عنصر اول: 30px');
            console.log('margin-top عنصر دوم: 20px');
            console.log('نتیجه margin collapse: ' + Math.max(30, 20) + 'px');
        }
    }
    
    // اضافه کردن حاشیه متحرک
    function addAnimatedBorders() {
        const style = document.createElement('style');
        style.textContent = 
            '.animated-border { ' +
                'border: 3px solid transparent; ' +
                'background: linear-gradient(white, white) padding-box, ' +
                'linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4) border-box; ' +
                'animation: borderAnimation 3s linear infinite; ' +
            '} ' +
            '@keyframes borderAnimation { ' +
                '0% { background-position: 0% 50%; } ' +
                '50% { background-position: 100% 50%; } ' +
                '100% { background-position: 0% 50%; } ' +
            '}';
        
        document.head.appendChild(style);
        
        // اعمال به کارت‌های محصول هنگام hover
        const cards = document.querySelectorAll('.product-card');
        cards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.classList.add('animated-border');
            });
            
            card.addEventListener('mouseleave', function() {
                this.classList.remove('animated-border');
            });
        });
    }
    
    // اجرای توابع
    showBoxModelInfo();
    addTooltips();
    toggleBoxSizing();
    demonstrateMarginCollapse();
    addAnimatedBorders();
    
    // نمایش اطلاعات در console
    console.log('=== اطلاعات مدل جعبه ===');
    console.log('برای مشاهده اطلاعات هر عنصر، موس را روی کارت‌های محصول ببرید');
    console.log('دکمه تغییر box-sizing در گوشه بالا سمت چپ قرار دارد');
});`
                }
            });
            
            // Mark lesson as completed when user interacts with editor
            let hasInteracted = false;
            setTimeout(() => {
                if (editor.isInitialized) {
                    Object.keys(editor.editors).forEach(key => {
                        editor.editors[key].on('change', () => {
                            if (!hasInteracted) {
                                hasInteracted = true;
                                if (window.PersianWebTutorial) {
                                    window.PersianWebTutorial.markLessonCompleted('lesson7');
                                }
                            }
                        });
                    });
                }
            }, 1000);
        });
    </script>
</body>
</html>

